<!DOCTYPE html>
<html ng-app="MyApp">
<head>
    <meta charset="utf-8" />
    <link href="../Content/bootstrap.min.css" rel="stylesheet" />
    <script src="Scripts/jquery-3.5.1.js"></script>
    <script src="Scripts/bootstrap.js"></script>
    <script src="../Scripts/angular.js"></script>
    <script src="../Scripts/angular-route.js"></script>
    <title></title>
</head>
<body>
    <form #form="ngForm" autocomplete="off">
        <table class="table table-hover" border>
            <tr>
                <ng-container>
                    <th>Course Name</th>
                    <th>Duration</th>
                    <th>Contents</th>
                    <th>Course Teacher</th>
                    <th>Enroll Course</th>
                </ng-container>
            </tr>
            <ng-template [ngIf]="enrollService.list.length > 0" [ngIfElse]="elseBlock">
                <ng-container *ngFor="let course of service.list">
                    <tr *ngFor="let enrolled of enrollService.list">
                        <ng-container *ngIf="enrolled.Course != course.CName && enrolled.Teacher != course.Teacher">
                            <td (click)="populateForm(course)">{{course.CName}}</td>
                            <td (click)="populateForm(course)">{{course.Duration}}</td>
                            <td (click)="populateForm(course)">{{course.Contents}}</td>
                            <td (click)="populateForm(course)">{{course.Teacher}}</td>
                            <td><button (click)="enroll(course)" class="btn btn-success">Enroll</button></td>
                        </ng-container>
                    </tr>
                </ng-container>
            </ng-template>
            <ng-template #elseBlock>
                <tr *ngFor="let course of service.list">
                    <td (click)="populateForm(course)">{{course.CName}}</td>
                    <td (click)="populateForm(course)">{{course.Duration}}</td>
                    <td (click)="populateForm(course)">{{course.Contents}}</td>
                    <td (click)="populateForm(course)">{{course.Teacher}}</td>
                    <td><button (click)="enroll(course)" class="btn btn-success">Enroll</button></td>
                </tr>
            </ng-template>
        </table>
    </form>

</body>
</html>